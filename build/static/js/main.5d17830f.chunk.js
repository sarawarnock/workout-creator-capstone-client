(this["webpackJsonpworkout-creator-capstone-client"]=this["webpackJsonpworkout-creator-capstone-client"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r,c=n(0),o=n(1),s=n.n(o),a=n(25),i=n.n(a),u=(n(33),n(2)),l=n(3),h=n(5),j=n(4),b=n(7),d=(n(34),n(35),n(8)),m=n(17),p="https://workout-creator-server.herokuapp.com/api",O="workout-client-auth-token",x=n(26),k={saveAuthToken:function(e){window.sessionStorage.setItem(O,e)},getAuthToken:function(){return window.sessionStorage.getItem(O)},clearAuthToken:function(){window.sessionStorage.removeItem(O)},hasAuthToken:function(){return!!k.getAuthToken()},makeBasicAuthToken:function(e,t){return window.btoa("".concat(e,":").concat(t))},parseJwt:function(e){return Object(x.a)(e)},readJwtToken:function(){return k.parseJwt(k.getAuthToken())},_getMsUntilExpiry:function(e){return 1e3*e.exp-Date.now()},queueCallbackBeforeExpiry:function(e){var t=k._getMsUntilExpiry(k.readJwtToken());r=setTimeout(e,t-1e4)},clearCallbackBeforeExpiry:function(){clearTimeout(r)}},f=k;function v(e){var t=e.component,n=Object(m.a)(e,["component"]),r=t;return Object(c.jsx)(b.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return f.hasAuthToken()?Object(c.jsx)(b.a,{to:"/"}):Object(c.jsx)(r,Object(d.a)({},e))}}))}function g(e){var t=e.component,n=Object(m.a)(e,["component"]),r=t;return Object(c.jsx)(b.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return f.hasAuthToken()?Object(c.jsx)(r,Object(d.a)({},e)):Object(c.jsx)(b.a,{to:{pathname:"/",state:{from:e.location}}})}}))}var w={},y=[],S=[],N=s.a.createContext({error:null,user:w,workout:y,userWorkouts:[],workouts:S,active:!1,minutes:null,setError:function(){},clearError:function(){},setWorkout:function(){},clearWorkOut:function(){},setUser:function(){},clearUser:function(){},setWorkOutsList:function(){},clearWorkOutsList:function(){},toggleActive:function(){},setMinutes:function(){}}),C=N,T=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={error:null,user:w,workout:y,userWorkouts:[],workouts:S,active:!1,minutes:null},e.setError=function(t){console.log("setting context error:",t),e.setState({error:t})},e.clearError=function(){console.log("clearing context error"),e.setState({error:null})},e.setWorkout=function(t){console.log("setting context workout:",t),e.setState({workout:t})},e.clearWorkOut=function(){console.log("clearing context workout"),e.setWorkout(y)},e.setUser=function(t){console.log("setting context user:",t),e.setState({user:t})},e.clearUser=function(){console.log("clearing context user"),e.setState(w)},e.setWorkOutsList=function(t){console.log("setting context workouts:",t),e.setState({workouts:t})},e.clearWorkOutsList=function(){console.log("clearing workouts list"),e.setWorkOutsList({nullWorkouts:S})},e.toggleActive=function(){e.setState({active:!e.state.active})},e.setMinutes=function(t){console.log("setting context minutes",t),e.setState({minutes:t})},e}return Object(l.a)(n,[{key:"render",value:function(){var e={error:this.state.error,user:this.state.user,workout:this.state.workout,userWorkouts:this.state.userWorkouts,workouts:this.state.workouts,active:this.state.active,minutes:this.state.minutes,setError:this.setError,clearError:this.clearError,setWorkout:this.setWorkout,clearWorkOut:this.clearWorkOut,setUser:this.setUser,clearUser:this.clearUser,setWorkOutsList:this.setWorkOutsList,clearWorkOutsList:this.clearWorkOutsList,toggleActive:this.toggleActive,setMinutes:this.setMinutes};return Object(c.jsx)(N.Provider,{value:e,children:this.props.children})}}]),n}(o.Component),E={getWorkoutsById:function(){console.log("fetching workouts by id..");var e="".concat(p,"/workouts/user/loggedin");return fetch(e,{method:"GET",headers:{"content-type":"application/json",authorization:"bearer ".concat(f.getAuthToken())}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getWorkoutDetails:function(e){console.log("getworkoutDetails fetching with id:",e);var t="".concat(p,"/workoutdetails/workout/").concat(e);return fetch(t,{method:"GET",headers:{"content-type":"application/json",authorization:"bearer ".concat(f.getAuthToken())}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postWorkout:function(e){var t=this;return fetch("".concat(p,"/workouts"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(f.getAuthToken())},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error("Something went wrong, please try again later.");return e.json()})).catch((function(e){t.setState({error:e.message})}))},deleteWorkout:function(e){return fetch("".concat(p,"/workouts/").concat(e),{method:"DELETE",headers:{"content-type":"application/json",authorization:"bearer ".concat(f.getAuthToken())}})}},W=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.context.clearError(),f.hasAuthToken&&E.getWorkoutsById().then(this.context.setWorkOutsList).catch(this.context.setError)}},{key:"render",value:function(){return Object(c.jsxs)("main",{className:"main",children:[Object(c.jsx)("h2",{children:"Create An EMOM Style Workout"}),Object(c.jsxs)("div",{className:"landing-text",children:[Object(c.jsxs)("p",{children:["What is an EMOM?",Object(c.jsx)("br",{}),"EMOM stands for 'Every Minute On the Minute' - a style of workout where you do a different exercise starting at the top of each minute and resting after you finish that exercise, before moving on to the next exercise in the next minute. This style is a type of MetCon. MetCon is short for metabolic conditioning; a term that incorporates short bouts of higher-intensity training designed to increase metabolic demand and increase energy usage."]}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("p",{children:"Sign up to create your own metabolic-conditioning workouts!"})}),Object(c.jsx)("li",{children:Object(c.jsx)("p",{children:"Save your workouts and keep track of your progress."})}),Object(c.jsx)("li",{children:Object(c.jsx)("p",{children:"Select which muscle groups you would like to work and the duration of your workout, and a unique workout with instructions will be created."})})]})]})]})}}]),n}(s.a.Component);W.contextType=C;var A=n(6),_=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleLogOut=function(){f.clearAuthToken()},e}return Object(l.a)(n,[{key:"renderLogOutLink",value:function(){return 0===this.context.workouts.length?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(A.b,{to:"/create-workout",className:"header-links workouts",children:"Create"}),Object(c.jsx)(A.b,{to:"/",className:"logout header-links",onClick:this.handleLogOut,children:"Logout"})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(A.b,{to:"/workouts",className:"workouts header-links",children:"Workouts"}),Object(c.jsx)(A.b,{to:"/",className:"logout header-links",onClick:this.handleLogOut,children:"Logout"})]})}},{key:"renderLogInLink",value:function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(A.b,{className:"header-links signup",to:"/sign-up",children:"Sign Up"}),Object(c.jsx)(A.b,{className:"header-links",to:"/login",children:"Login"})]})}},{key:"render",value:function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("header",{children:Object(c.jsxs)("nav",{children:[Object(c.jsx)(A.b,{className:"home-link",to:"/",children:Object(c.jsx)("h1",{children:"MyMetcon"})}),Object(c.jsx)("div",{className:"app-nav",children:f.hasAuthToken()?this.renderLogOutLink():this.renderLogInLink()})]})})})}}]),n}(o.Component);_.contextType=C;var L=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleDelete=function(){var t=e.props.workout;E.deleteWorkout(t.id).then((function(t){E.getWorkoutsById().then(e.context.setWorkOutsList).catch(e.context.setError)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.workout;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"wo-name left",children:e.workouts_name}),Object(c.jsx)("td",{children:Object(c.jsx)(A.b,{className:"view-link",to:"/workouts/".concat(e.id),children:"View"})}),Object(c.jsx)("td",{className:"right",children:Object(c.jsx)("button",{className:"delete button",onClick:this.handleDelete,children:"x"})})]},e.id)}}]),n}(o.Component);L.contextType=C;var F,M=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.context.clearError(),E.getWorkoutsById().then(this.context.setWorkOutsList).catch(this.context.setError)}},{key:"render",value:function(){var e=this.context.workouts;return 0===e.length?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("h2",{children:"No Workouts!"})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Saved Workouts"}),Object(c.jsxs)("table",{className:"workouts-table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"left tb-name",children:"Name"}),Object(c.jsx)("th",{className:"tb-view center"}),Object(c.jsx)("th",{className:"tb-del right",children:"Remove"})]})}),Object(c.jsx)("tbody",{children:e.map((function(e){return Object(c.jsx)(L,{workout:e},e.id)}))})]}),Object(c.jsx)(A.b,{to:"/create-workout",className:"create-link link",children:"New Workout"})]})}}]),n}(s.a.Component);M.contextType=C;var I=null,P=["mousedown","mousemove","keypress","scroll","touchstart"],B={setIdleCallback:function(e){I=e},resetIdleTimer:function(e){clearTimeout(F),F=setTimeout(I,3e5)},regiserIdleTimerResets:function(){P.forEach((function(e){return document.addEventListener(e,B.resetIdleTimer,!0)}))},unRegisterIdleResets:function(){clearTimeout(F),P.forEach((function(e){return document.removeEventListener(e,B.resetIdleTimer,!0)}))}},U=B,R={postUser:function(e){return console.log("auth-api-service posting user:",e),fetch("".concat(p,"/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.log("error:",e)}))},postLogin:function(e){return fetch("".concat(p,"/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){return f.saveAuthToken(e.authToken),U.regiserIdleTimerResets(),f.queueCallbackBeforeExpiry((function(){R.postRefreshToken()})),e}))},postRefreshToken:function(){var e=this;return console.log("auth-api-service refreshing token"),fetch("".concat(p,"/auth/refresh"),{method:"POST",headers:{authorization:"Bearer ".concat(f.getAuthToken())}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){return f.saveAuthToken(e.authToken),f.queueCallbackBeforeExpiry((function(){R.postRefreshToken()})),e})).catch((function(t){e.context.setError(t)}))}},D=R,q=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={error:null},e.handleSubmitJwtAuth=function(t){t.preventDefault();var n=t.target,r=n.loginEmail,c=n.loginPassword;D.postLogin({email:r.value,password:c.value}).then((function(t){r.value="",c.value="",e.props.onSubmitSuccess()})).catch((function(t){e.setState({error:t.error})}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.error;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{className:"login-form",onSubmit:this.handleSubmitJwtAuth,children:[Object(c.jsx)("div",{role:"alert",children:e&&Object(c.jsx)("p",{className:"error",children:e})}),Object(c.jsxs)("div",{className:"user-inp inp-cont",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"email",children:"Username"}),Object(c.jsx)("input",{name:"loginEmail",type:"text",id:"email",required:!0})]}),Object(c.jsxs)("div",{className:"pass-inp inp-cont",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{name:"loginPassword",type:"password",id:"password",autoComplete:"on",required:!0})]}),Object(c.jsx)("button",{className:"submit btn",type:"submit",children:" Log In "})]})})}}]),n}(o.Component);q.defaultProps={onSubmitSuccess:function(){}};var J=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleSubmitSuccess=function(){var t=e.props,n=t.location,r=t.history,c=(n.state||{}).from||"/workouts";r.push(c)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"form-container",children:[Object(c.jsx)("h2",{children:"Login"}),Object(c.jsx)(q,{onSubmitSuccess:this.handleSubmitSuccess})]})}}]),n}(o.Component);J.defaultProps={location:{},history:{push:function(){}}};var V=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={error:null},e.handleSubmit=function(t){t.preventDefault();var n=t.target,r=n.signUpEmail,c=n.signUpPassword,o=n.signUpFirstName;e.setState({error:null});var s={email:r.value,password:c.value,first_name:o.value};D.postUser(s).then((function(t){console.log("create user res",t),e.context.setUser(t),D.postLogin({email:r.value,password:c.value,first_name:o.value}).then((function(t){r.value="",c.value="",o.value="",e.props.onSubmitSuccess()}))})).catch((function(t){e.setState({error:t.error})}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.error;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{className:"signup-form",onSubmit:this.handleSubmit,children:[Object(c.jsx)("div",{role:"alert",children:e&&Object(c.jsx)("p",{className:"error",children:e})}),Object(c.jsxs)("div",{className:"inp-cont",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"email",children:"Username"}),Object(c.jsx)("input",{name:"signUpEmail",type:"text",id:"email",required:!0})]}),Object(c.jsxs)("div",{className:" inp-cont",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{name:"signUpPassword",type:"password",id:"password",placeholder:"Password",required:!0})]}),Object(c.jsxs)("div",{className:"inp-cont",children:[Object(c.jsx)("label",{className:"user-label",htmlFor:"fname",children:"First Name"}),Object(c.jsx)("input",{name:"signUpFirstName",type:"text",id:"fname",placeholder:"First Name",required:!0})]}),Object(c.jsx)("button",{className:"submit btn",type:"submit",children:"Register"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Already have an account?"}),Object(c.jsx)(A.b,{className:"login-link",to:"/login",children:"Login"})]})]})}}]),n}(o.Component);V.defaultProps={onSubmitSuccess:function(){}},V.contextType=C;var z=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleSubmitSuccess=function(){var t=e.props,n=t.location,r=t.history,c=(n.state||{}).from||"/create-workout";r.push(c)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"form-container",children:[Object(c.jsx)("h2",{children:"Create Account"}),Object(c.jsx)(V,{onSubmitSuccess:this.handleSubmitSuccess})]})}}]),n}(o.Component);z.defaultProps={location:{},history:{push:function(){}}};var G=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.workout_id;this.context.clearError(),E.getWorkoutDetails(e).then(this.context.setWorkout).catch(this.context.setError),E.getWorkoutsById().then(this.context.setWorkOutsList).catch(this.context.setError)}},{key:"renderWorkOut",value:function(){var e=this.props.match.params.workout_id,t=this.context.workout;return 0===t.length?Object(c.jsx)("div",{children:"Loading..."}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"flex-cnt",children:[Object(c.jsx)(A.b,{className:"la",to:"/workouts",children:Object(c.jsx)("span",{className:"arrow left-arrow"})}),Object(c.jsxs)("h2",{children:["EMOM for ",this.context.workout[0].total_length," minutes"]}),Object(c.jsx)(A.b,{className:"ra",to:"start/".concat(e),children:Object(c.jsx)("span",{className:"arrow right-arrow"})})]}),Object(c.jsxs)("table",{className:"workouts-table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{className:"tbh",children:[Object(c.jsx)("td",{className:"left",children:Object(c.jsx)("h3",{children:"Exercise Name"})}),Object(c.jsx)("td",{children:Object(c.jsx)("h3",{children:"Number of Reps"})}),Object(c.jsx)("td",{children:Object(c.jsx)("h3",{className:"inst",children:"Instructions"})})]})}),Object(c.jsx)("tbody",{children:t.map((function(e,t){return e.exercise_reps%2!==0&&(e.exercise_reps=e.exercise_reps+1),Object(c.jsxs)("tr",{className:"tr",children:[Object(c.jsx)("td",{children:Object(c.jsx)("h4",{className:"dt up-c-left",children:e.title},"title")}),Object(c.jsx)("td",{children:Object(c.jsx)("h4",{className:"num",children:e.exercise_reps},"reps")}),Object(c.jsx)("td",{className:"up-c-left detail",children:Object(c.jsx)("h4",{children:e.description},"desc")})]},t)}))})]})]})}},{key:"render",value:function(){var e=this.context.error;return Object(c.jsx)(c.Fragment,{children:e?Object(c.jsx)("h2",{children:"There was an error try again"}):this.renderWorkOut()})}}]),n}(s.a.Component);G.defaultProps={match:{params:{}}},G.contextType=C;var Y=n(14),H=n(13),K=function(e){var t=e.label,n=e.isSelected,r=e.onCheckboxChange;return Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("label",{className:n?"selected-checkbox check":"check",children:[Object(c.jsx)("input",{type:"checkbox",name:t,checked:n,onChange:r,className:"form-check-input checkbox-input"}),t]})})},Q=["Arms","Legs","Chest","Back","Core","Cardio","Advanced"],X=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).createCheckbox=function(t){return Object(c.jsx)(K,{label:t,isSelected:e.props.checkboxes[t],onCheckboxChange:e.props.handleCheckboxChange,handleChange:e.props.handleChange},t)},e.createCheckboxes=function(){return Q.map(e.createCheckbox)},e}return Object(l.a)(n,[{key:"render",value:function(){return 1!==this.props.currentStep?null:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("h2",{className:"workout-question-1",children:"Which muscle groups would you like to work?"}),Object(c.jsx)("div",{className:"checkbox",children:this.createCheckboxes()})]})}}]),n}(s.a.Component),Z=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return 2!==this.props.currentStep?null:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("h2",{className:"workout-question-2",children:"How long do you want to workout for?"}),Object(c.jsxs)("div",{className:"workout-time answer-2",children:[Object(c.jsx)("input",{type:"radio",id:"time-1",name:"workoutTimeValue",value:"5",onClick:this.props.handleChange}),Object(c.jsx)("label",{htmlFor:"time-1",children:"5 minutes"}),Object(c.jsx)("input",{type:"radio",id:"time-2",name:"workoutTimeValue",value:"10",onClick:this.props.handleChange}),Object(c.jsx)("label",{htmlFor:"time-2",children:"10 minutes"}),Object(c.jsx)("input",{type:"radio",id:"time-3",name:"workoutTimeValue",value:"15",onClick:this.props.handleChange}),Object(c.jsx)("label",{htmlFor:"time-3",children:"15 minutes"}),Object(c.jsx)("input",{type:"radio",id:"time-4",name:"workoutTimeValue",value:"20",onClick:this.props.handleChange}),Object(c.jsx)("label",{htmlFor:"time-4",children:"20 minutes"}),Object(c.jsx)("input",{type:"radio",id:"time-5",name:"workoutTimeValue",value:"25",onClick:this.props.handleChange}),Object(c.jsx)("label",{htmlFor:"time-5",children:"25 minutes"}),Object(c.jsx)("input",{type:"radio",id:"time-6",name:"workoutTimeValue",value:"30",onClick:this.props.handleChange}),Object(c.jsx)("label",{htmlFor:"time-6",children:"30 minutes"})]})]})}}]),n}(s.a.Component),$=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return 3!==this.props.currentStep?null:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("h2",{children:"Name Your Workout:"}),Object(c.jsx)("div",{className:"workouts-name",children:Object(c.jsx)("input",{className:"name-wo",name:"workoutNameValue",type:"text",id:"workouts-name-input",placeholder:"Example: Arms and Legs",onChange:this.props.handleChange})})]})}}]),n}(s.a.Component),ee=["Arms","Legs","Chest","Back","Core","Cardio","Advanced"],te=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).selectAllCheckboxes=function(e){Object.keys(r.state.checkboxes).forEach((function(t){r.setState((function(n){return{checkboxes:Object(d.a)(Object(d.a)({},n.checkboxes),{},Object(Y.a)({},t,e))}}))}))},r.handleCheckboxChange=function(e){var t=e.target.name;r.setState((function(e){return{checkboxes:Object(d.a)(Object(d.a)({},e.checkboxes),{},Object(Y.a)({},t,!e.checkboxes[t]))}}))},r.handleChange=function(e){var t=e.target,n=t.name,c=t.value;r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Y.a)({},n,c))}))},r.handleFormSubmit=function(e){e.preventDefault();var t={is_advanced:r.state.checkboxes.Advanced,is_arms:r.state.checkboxes.Arms,is_back:r.state.checkboxes.Back,is_cardio:r.state.checkboxes.Cardio,is_chest:r.state.checkboxes.Chest,is_core:r.state.checkboxes.Core,is_legs:r.state.checkboxes.Legs,total_length:r.state.workoutTimeValue,workout_type:"EMOM",workouts_name:r.state.workoutNameValue};E.postWorkout(t).then((function(e){console.log("postWorkout response",e),r.props.onSubmitSuccess(e.workout.id)})).catch((function(e){console.log(e.error),r.setState({error:e.error})}))},r._next=r._next.bind(Object(H.a)(r)),r._prev=r._prev.bind(Object(H.a)(r)),r.state={error:null,checkboxes:ee.reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(Y.a)({},t,!1))}),{}),currentStep:1},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.context.clearError(),E.getWorkoutsById().then(this.context.setWorkOutsList).catch(this.context.setError)}},{key:"_next",value:function(){var e=this.state.currentStep;e=e>=2?3:e+1,this.setState({currentStep:e})}},{key:"_prev",value:function(){var e=this.state.currentStep;e=e<=1?1:e-1,this.setState({currentStep:e})}},{key:"checkString",value:function(e){var t=e;return void 0===e&&(t=""),null==e&&(t=""),t}},{key:"render",value:function(){var e=this.state.error;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:e}),Object(c.jsxs)("form",{className:"create-form",onSubmit:this.handleFormSubmit,children:[Object(c.jsx)(X,{currentStep:this.state.currentStep,checkboxes:this.state.checkboxes,handleCheckboxChange:this.handleCheckboxChange,handleChange:this.handleChange}),Object(c.jsx)(Z,{currentStep:this.state.currentStep,handleChange:this.handleChange}),Object(c.jsx)($,{currentStep:this.state.currentStep,handleChange:this.handleChange}),this.previousButton,this.nextButton,this.submitButton]})]})}},{key:"previousButton",get:function(){return 1!==this.state.currentStep?Object(c.jsx)("button",{className:"btn arr",type:"button",onClick:this._prev,children:"<"}):null}},{key:"nextButton",get:function(){return this.state.currentStep<3?Object(c.jsx)("button",{className:"btn arr",type:"button",onClick:this._next,children:">"}):null}},{key:"submitButton",get:function(){return 3===this.state.currentStep?Object(c.jsx)("button",{className:"btn arr",type:"submit",children:"Submit"}):null}}]),n}(o.Component);te.contextType=C;var ne=te,re=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleSubmitSuccess=function(t){var n=e.props,r=n.location,c=n.history,o=(r.state||{}).from||"/workouts/".concat(t);c.push(o)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"form-container",children:Object(c.jsx)(ne,{onSubmitSuccess:this.handleSubmitSuccess})})}}]),n}(o.Component);re.defaultProps={location:{},history:{push:function(){}}};var ce=function(e){return Object(c.jsxs)("h2",{children:["Great job!! You completed ",e.workout.workout_name,"! "]})};function oe(e){var t=e.exercise;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"flex-cnt",children:[Object(c.jsx)("button",{className:"la",onClick:e.clickPrev,children:Object(c.jsx)("span",{className:"arrow left-arrow"})}),Object(c.jsx)("h2",{className:"cap",children:t.title}),Object(c.jsx)("button",{className:"ra",onClick:e.clickNext,children:Object(c.jsx)("span",{className:"arrow right-arrow"})})]}),Object(c.jsxs)("div",{className:"ex-cont",children:[Object(c.jsx)("h3",{className:"ex-desc cap left",children:t.description}),Object(c.jsxs)("h3",{className:"ex-reps cap",children:[t.exercise_reps,"x"]})]})]})}var se=n(18);function ae(e){var t=e.length,n=Object(o.useState)({ms:0,sec:60,min:t}),r=Object(se.a)(n,2),s=r[0],a=r[1],i=Object(o.useState)(),u=Object(se.a)(i,2),l=u[0],h=u[1],j=Object(o.useState)(0),b=Object(se.a)(j,2),d=b[0],m=b[1],p=s.ms,O=s.sec,x=s.min,k=function(){f(),m(1),h(setInterval(f,10))},f=function(){return 0===O&&(O=60,x--,e.updateMin(),e.clickNext()),100===p&&(p=0,O--),p++,a({ms:p,sec:O,min:x})},v=function(){clearInterval(l),m(0),a({ms:0,sec:60,min:t})};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"sw-cont",children:[Object(c.jsx)("h4",{children:Object(c.jsx)("span",{children:s.sec>=10?s.sec:"0"+s.sec})}),Object(c.jsxs)("div",{className:"btn-cont",children:[0===d?Object(c.jsx)("button",{onClick:k,id:"start",children:"START"}):"",1===d?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){clearInterval(l),m(2)},id:"pause",children:"PAUSE"}),Object(c.jsx)("button",{onClick:v,id:"reset",children:"RESET"})]}):"",2===d?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){return k()},id:"pause",children:"RESUME"}),Object(c.jsx)("button",{onClick:v,id:"reset",children:"RESET"})]}):""]})]}),Object(c.jsxs)("h5",{children:[Object(c.jsx)("span",{children:s.min}),Object(c.jsx)("span",{children:" minutes"})]})]})}var ie=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e))._next=function(){var e=r.state.currentStep,t=r.context.workout;e<t.length&&r.setState({currentStep:e+1}),e===t.length&&r.setState({currentStep:1})},r._prev=function(){var e=r.state.currentStep;e<=r.context.workout.length&&e>1&&r.setState({currentStep:e-1})},r.updateMin=function(){var e=r.state.minutes;r.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{minutes:e-1})}))},r._next=r._next.bind(Object(H.a)(r)),r._prev=r._prev.bind(Object(H.a)(r)),r.state={currentStep:1,minutes:null,name:""},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.context.clearError();var e=this.props.match.params.workout_id,t=this.context.workout;E.getWorkoutDetails(e).then(this.context.setWorkout).catch(this.context.setError),E.getWorkoutsById().then(this.context.setWorkOutsList).catch(this.context.setError),t.length>0&&this.setState({minutes:this.context.workouts[0].total_length})}},{key:"renderWorkOut",value:function(){var e=this.context.workout,t=e[this.state.currentStep-1];return 0===e.length?Object(c.jsx)("div",{children:"Loading"}):0===this.state.minutes?Object(c.jsx)(ce,{workout:e}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(oe,{clickNext:this._next,clickPrev:this._prev,exercise:t}),Object(c.jsx)(ae,{clickNext:this._next,clickPrev:this._prev,workout:e,length:e[0].total_length,updateMin:this.updateMin})]})}},{key:"render",value:function(){var e=this.context.error;return Object(c.jsx)(c.Fragment,{children:e?Object(c.jsx)("h2",{children:"There was an error try again"}):this.renderWorkOut()})}}]),n}(s.a.Component);ie.defaultProps={match:{params:{}}},ie.contextType=C;var ue=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Page Not Found!"})})},le=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).logoutFromIdle=function(){f.clearAuthToken(),f.clearCallbackBeforeExpiry(),U.unRegisterIdleResets(),r.forceUpdate()},r.state={loggedIn:!1,error:!1},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){localStorage.clear(),U.setIdleCallback(this.logoutFromIdle),f.hasAuthToken()&&(U.regiserIdleTimerResets(),f.queueCallbackBeforeExpiry((function(){D.postRefreshToken()})))}},{key:"componentWillUnmount",value:function(){U.unRegisterIdleResets(),f.clearCallbackBeforeExpiry()}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(_,{}),Object(c.jsx)("main",{className:"main-pages",children:Object(c.jsxs)(b.d,{children:[Object(c.jsx)(b.b,{exact:!0,path:"/",component:W}),Object(c.jsx)(v,{exact:!0,path:"/login",component:J}),Object(c.jsx)(v,{exact:!0,path:"/sign-up",component:z}),Object(c.jsx)(g,{exact:!0,path:"/create-workout",component:re}),Object(c.jsx)(g,{exact:!0,path:"/workouts",component:M}),Object(c.jsx)(g,{exact:!0,path:"/workouts/:workout_id",component:G}),Object(c.jsx)(g,{expact:!0,path:"/workouts/start/:workout_id",component:ie}),Object(c.jsx)(b.b,{component:ue})]})})]})}}],[{key:"getDerivedStateFromError",value:function(e){return{error:!0}}}]),n}(o.Component);le.contextType=C;var he=Object(b.g)(le);i.a.render(Object(c.jsx)(A.a,{children:Object(c.jsx)(T,{children:Object(c.jsx)(he,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.5d17830f.chunk.js.map